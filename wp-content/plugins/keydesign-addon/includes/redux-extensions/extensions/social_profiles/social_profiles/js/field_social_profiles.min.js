
(function(a){redux.field_objects=redux.field_objects||{};redux.field_objects.social_profiles=redux.field_objects.social_profiles||{};redux.field_objects.social_profiles.fieldID="";redux.field_objects.social_profiles.optName="";redux.field_objects.social_profiles.init=function(b){if(!b){b=a(document).find(".redux-group-tab:visible").find(".redux-container-social_profiles:visible")}a(b).each(function(){var d=a(this);var c=d;if(!d.hasClass("redux-field-container")){c=d.parents(".redux-field-container:first")}if(c.is(":hidden")){return}if(c.hasClass("redux-field-init")){c.removeClass("redux-field-init")}else{return}redux.field_objects.social_profiles.modInit(d);redux.field_objects.social_profiles.sortListByOrder(d);redux.field_objects.social_profiles.sortEnableListByOrder(d);redux.field_objects.social_profiles.initializeResetButtons(d);redux.field_objects.social_profiles.showEnabledDetails(d)})};redux.field_objects.social_profiles.modInit=function(d){redux.field_objects.social_profiles.fieldID=d.find(".redux-social-profiles-container").data("id");redux.field_objects.social_profiles.optName=d.find(".redux-social-profiles-container").data("opt-name");var e=Boolean(d.find(".redux-social-profiles-container").data("dev-mode"));if(e===true){var b=d.find(".redux-social-profiles-container").data("version");var c=a("div.redux-timer").html();if(c!==undefined){var f=c.indexOf("Social Profiles");if(f===-1){a("div.redux-timer").html(c+"<br/>Social Profiles extension v."+b)}}}d.find("#redux-social-profiles-list").sortable({revert:"invalid",cursor:"move",helper:"clone",handle:".redux-icon-preview",placeholder:"sortable-placeholder",change:function(g,h){},stop:function(g,h){redux.field_objects.social_profiles.reorderSocialItems(d);redux_change(d.find(".redux-social-profiles-container"))},start:function(g,h){}});d.find("#redux-social-profiles-selector-list").sortable({revert:"invalid",cursor:"move",helper:"clone",placeholder:"sortable-placeholder",change:function(g,h){},stop:function(g,h){redux.field_objects.social_profiles.reorderSocialEnable(d);redux_change(d.find(".redux-social-profiles-container"))},start:function(g,h){}});d.find(".redux-social-profiles-url-text").on("blur",function(){var g=a(this).data("key");var h=a(this).val();redux.field_objects.social_profiles.updateDataString(d,g,"url",h)});d.find(".redux-social-profiles-item-enable").on("click",function(){var g=a(this).data("key");redux.field_objects.social_profiles.toggleEnabled(d,g)});d.find(".redux-social-profiles-item-enabled input").on("click",function(j,i){j.preventDefault();var h=a(this);var g=h.data("key");redux.field_objects.social_profiles.toggleEnabled(d,g)})};redux.field_objects.social_profiles.valueFromDataString=function(e,d,c){var f=e.find(".redux-social-profiles-hidden-data-"+d);var g=f.val();g=decodeURIComponent(g);g=JSON.parse(g);var b=g[c];return b};redux.field_objects.social_profiles.updateDataString=function(d,c,b,e){var f=d.find(".redux-social-profiles-hidden-data-"+c);var g=f.val();g=decodeURIComponent(g);g=JSON.parse(g);g[b]=e;g=JSON.stringify(g);g=encodeURIComponent(g);f.val(g)};redux.field_objects.social_profiles.sortListByOrder=function(d){var c=d.find("ul#redux-social-profiles-list ");var b=c.children("li");b.detach().sort(function(f,e){return a(f).find(".redux-social-profiles-item-order input").val()-a(e).find(".redux-social-profiles-item-order input").val()});c.append(b)};redux.field_objects.social_profiles.sortEnableListByOrder=function(d){var c=d.find("ul#redux-social-profiles-selector-list");var b=c.children("li");b.detach().sort(function(f,e){return a(f).data("order")-a(e).data("order")});c.append(b)};redux.field_objects.social_profiles.initializeResetButtons=function(b){b.find(".redux-social-profiles-item-reset a").click(function(){var d=a(this);if(d.length>0){var c=d.data("value");redux.field_objects.social_profiles.resetItem(b,c)}})};redux.field_objects.social_profiles.resetItem=function(c,d){var b=reduxSocialDefaults[d]["color"];var e=reduxSocialDefaults[d]["background"];c.find(".redux-social-profiles-color-picker-"+d+".text").spectrum("set",b);c.find(".redux-social-profiles-color-picker-"+d+".background").spectrum("set",e);redux.field_objects.social_profiles.updateDataString(c,d,"color",b);redux.field_objects.social_profiles.updateDataString(c,d,"background",e);redux.field_objects.social_profiles.updatePreview(c,d)};redux.field_objects.social_profiles.updatePreview=function(e,g){var c=redux.field_objects.social_profiles.valueFromDataString(e,g,"color");var b=redux.field_objects.social_profiles.valueFromDataString(e,g,"background");var d=reduxSocialDefaults[g]["icon"];var f=e.find("#redux-social-item-"+g+" i."+d);f.css("background-color",b);f.css("color",c)};redux.field_objects.social_profiles.toggleEnabled=function(d,f){var b=d.find("#redux-social-profiles-item-enable-"+f);var c=b.hasClass("enabled");var e;if(c){b.removeClass("enabled");e=false}else{b.addClass("enabled");e=true}redux.field_objects.social_profiles.updateDataString(d,f,"enabled",e);redux_change(d.find(".redux-social-profiles-container"));redux.field_objects.social_profiles.showEnabledDetails(d)};redux.field_objects.social_profiles.showEnabledDetails=function(d){var c=d.find("li.redux-social-profiles-item-enable");if(c.length>0){var b=[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d9ead3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]];c.each(function(f){var h=a(this);var g=h.data("key");if(h.hasClass("enabled")){d.find(".redux-social-profiles-color-picker-"+g).spectrum({showAlpha:true,showInput:true,allowEmpty:true,className:"redux-full-spectrum",showInitial:true,showPalette:true,showSelectionPalette:true,clickoutFiresChange:true,preferredFormat:"rgb",localStorageKey:"redux.social-profiles.spectrum",palette:b,change:function(j){var k;if(a(this).hasClass("text")){k="color"}else{k="background"}console.log(j);if(j===null){j=""}else{j=j.toRgbString()}redux.field_objects.social_profiles.updateDataString(d,g,k,j);redux.field_objects.social_profiles.updatePreview(d,g)}});d.find("li#redux-social-item-"+g).slideDown();var e=d.find("input.checkbox-"+g);var i=a(e).parent().find(".checkbox-check-"+g);e.prop("checked",true);i.val(1)}else{var h=d.find("li#redux-social-item-"+g);if(h.is(":hidden")){return}h.slideUp("medium");var e=d.find("input.checkbox-"+g);var i=a(e).parent().find(".checkbox-check-"+g);e.prop("checked",false);i.val(0)}})}};redux.field_objects.social_profiles.reorderSocialItems=function(c){var b=c.find("ul#redux-social-profiles-list li");if(b.length>0){b.each(function(e){var g=a(this);var f=g.data("key");var d=g.find(".redux-social-profiles-item-order input");d.val(e);redux.field_objects.social_profiles.updateDataString(c,f,"order",e);c.find("#redux-social-profiles-item-enable-"+f).data("order",e)});redux.field_objects.social_profiles.sortEnableListByOrder(c)}};redux.field_objects.social_profiles.reorderSocialEnable=function(c){var b=c.find("ul#redux-social-profiles-selector-list li");if(b.length>0){b.each(function(e){var g=a(this);var f=g.data("key");g.data("order",e);var h=c.find("li#redux-social-item-"+f);var d=h.find(".redux-social-profiles-item-order input");d.val(e);redux.field_objects.social_profiles.updateDataString(c,f,"order",e)})}redux.field_objects.social_profiles.sortListByOrder(c)}})(jQuery);